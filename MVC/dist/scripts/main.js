!function e(t,n,o){function r(u,a){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return r(n?n:e)},l,l.exports,e,t,n,o)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<o.length;u++)r(o[u]);return r}({1:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./jquery"),i=o(r);i["default"].ajax=function(e){return new Promise(function(t,n){switch(e.url){case"/todo-items/add":t([{text:"Test 1",done:!1,id:1},{text:"Test 2",done:!1,id:2},{text:"Test 3",done:!0,id:3}]);break;case"/todo-items":t([{text:"Test 1",done:!1,id:1},{text:"Test 2",done:!1,id:2},{text:"Test 3",done:!0,id:3}]);break;case"/todo-items/undo":t([{text:"Test 1",done:!1,id:1},{text:"Test 2",done:!1,id:2},{text:"Test 3",done:!1,id:3}]);break;case"/todo-items/complete":t([{text:"Test 1",done:!0,id:1},{text:"Test 2",done:!0,id:2},{text:"Test 3",done:!0,id:3}])}})},n["default"]=i["default"]},{"./jquery":5}],2:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=e("./jquery"),a=o(u),s=function(){function e(t,n){r(this,e),this.view=t,this.model=n}return i(e,[{key:"init",value:function(){var e=this;this.model.all().then(function(t){var n="";t.forEach(function(e,t){var o=e.done?"done":"todo";n+='<li class="'+o+'" id="item_'+t+'">'+e.text+"</li>"}),e.view.innerHTML=n,(0,a["default"])(e.view).on("click",".todo",function(t){var n=t.target;e.model.completeItem(n.id).then(function(){n.className="done"})}).on("click",".done",function(t){var n=t.target;e.model.undoItem(n.id).then(function(){n.className="todo"})})},function(t){e.handleError("Server failed to get todo items",t)})}},{key:"handleError",value:function(e){var t="error";this.view.innerHTML+='<li class="'+t+'">'+e+"</li>"}}]),e}();n["default"]=s},{"./jquery":5}],3:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function i(e){return o(this,i),e};n["default"]=r},{}],4:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=e("./FakeAjaxCall"),a=o(u),s=function(){function e(){r(this,e),this.items=[]}return i(e,[{key:"add",value:function(e){var t=this;return new Promise(function(n,o){t.items.push({text:e,done:!1,id:t.items.length}),a["default"].ajax({url:"/todo-items/add",type:"POST"}).then(function(e){n(e)},function(e){o({message:e.status+": "+e.responseText})})})}},{key:"all",value:function(){return new Promise(function(e,t){a["default"].ajax({url:"/todo-items"}).then(function(t){e(t)},function(e){t({message:e.status+": "+e.responseText})})})}},{key:"undoItem",value:function(e){return new Promise(function(e,t){a["default"].ajax({url:"/todo-items/undo",type:"POST"}).then(function(t){e(t)},function(e){t({message:e.status+": "+e.responseText})})})}},{key:"completeItem",value:function(e){return new Promise(function(e,t){a["default"].ajax({url:"/todo-items/complete",type:"POST"}).then(function(t){e(t)},function(e){t({message:e.status+": "+e.responseText})})})}}]),e}();n["default"]=s},{"./FakeAjaxCall":1}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=window.jQuery},{}],6:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=e("./ListView"),i=o(r),u=e("./TodoModel"),a=o(u),s=e("./ListController"),d=o(s),l=new i["default"](document.getElementById("results")),f=new a["default"],c=new d["default"](l,f);c.init()},{"./ListController":2,"./ListView":3,"./TodoModel":4}]},{},[6]);
//# sourceMappingURL=main.js.map
